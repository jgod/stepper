{"version":3,"sources":["stepper.js"],"names":[],"mappings":"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","file":"stepper.js","sourcesContent":["function getNum(str) {return parseInt(str, 10);};\nfunction roundToNearestStep(n, step) {\n  if (n > 0) {\n    return Math.ceil(n/step) * step;\n  } else if(n < 0) {\n    return Math.floor(n/step) * step;\n  } else {\n    return step;\n  }\n}\n\nfunction onClick(amount, stepper) {\n  if (amount === 0) return;\n  if (!stepper.field.validity.valid || stepper.field.value === '') stepper.field.value = 0;\n\n  if ((amount < 0 && getNum(stepper.field.value) <= getNum(stepper.field.min)) ||\n  (amount > 0 && getNum(stepper.field.value) >= getNum(stepper.field.max))) return;\n\n  stepper.field.value = getNum(stepper.field.value) + amount;\n  checkValidity(stepper);\n};\n\nfunction checkValidity(stepper) {\n  const VALUE = getNum(stepper.field.value);\n  stepper.buttons.neg.disabled = (VALUE <= getNum(stepper.field.min));\n  stepper.buttons.pos.disabled = (VALUE >= getNum(stepper.field.max));\n};\n\nexport default {\n  bindStepper: function(stepper, opts) {\n    // Bind field\n    stepper.field.addEventListener('input', checkValidity.bind(this, stepper));\n    // Bind buttons\n    stepper.buttons.neg.addEventListener('click', onClick.bind(this, -(getNum(stepper.field.step) || 1), stepper));\n    stepper.buttons.pos.addEventListener('click', onClick.bind(this, getNum(stepper.field.step) || 1, stepper));\n  },\n\n  bindAll: function(opts) {\n    opts = opts || {};\n    opts.classes = opts.classes || {};\n    const $steppers = document.getElementsByClassName(opts.stepper || 'stepper');\n\n    for (var i = 0; i < $steppers.length; i++) {\n      const stepper = {\n        buttons: {\n          pos: $steppers[i].getElementsByClassName(opts.classes.add || 'add')[0],\n          neg: $steppers[i].getElementsByClassName(opts.classes.subtract || 'subtract')[0]\n        },\n        field: $steppers[i].getElementsByClassName(opts.classes.field || 'field')[0]\n      };\n\n      if (stepper.field.disabled) return; // Don't bind on disabled fields.\n      this.bindStepper(stepper, opts);\n    }\n  }\n};"],"sourceRoot":"./dev/js"}