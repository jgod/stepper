{"version":3,"sources":["stepper.js"],"names":[],"mappings":";;;;;AAAA,SAAS,MAAT,CAAgB,GAAhB,EAAqB;AAAC,SAAO,SAAS,GAAT,EAAc,EAAd,CAAP;AAA0B;;AAEhD,SAAS,OAAT,CAAiB,MAAjB,EAAyB,OAAzB,EAAkC,KAAlC,EAAyC;AACvC,MAAI,WAAW,CAAf,EAAkB;AAClB,MAAI,CAAC,MAAM,QAAN,CAAe,KAAhB,IAAyB,MAAM,KAAN,KAAgB,EAA7C,EAAiD,MAAM,KAAN,GAAc,CAAd;;AAEjD,MAAI,SAAS,CAAT,IAAc,OAAO,MAAM,KAAb,KAAuB,OAAO,MAAM,GAAb,CAAzC,EAA4D,OAA5D,KACK,IAAI,SAAS,CAAT,IAAc,OAAO,MAAM,KAAb,KAAuB,OAAO,MAAM,GAAb,CAAzC,EAA4D;;AAEjE,QAAM,KAAN,GAAc,OAAO,MAAM,KAAb,IAAsB,MAApC;AACA,gBAAc,OAAd,EAAuB,KAAvB;AACD;;AAED,SAAS,aAAT,CAAuB,OAAvB,EAAgC,KAAhC,EAAuC;;AAErC,MAAI,MAAM,QAAN,CAAe,KAAnB,EAA0B;AACxB,YAAQ,GAAR,CAAY,QAAZ,GAAwB,OAAO,MAAM,KAAb,KAAuB,OAAO,MAAM,GAAb,CAA/C;AACA,YAAQ,GAAR,CAAY,QAAZ,GAAwB,OAAO,MAAM,KAAb,KAAuB,OAAO,MAAM,GAAb,CAA/C;AACD,GAHD,MAGO;AACL,UAAM,KAAN,GAAc,CAAd;AACD;AACF;;kBAEc;AACb,WAAS,iBAAS,IAAT,EAAe;AACtB,WAAO,QAAQ,EAAf;AACA,QAAM,WAAW,SAAS,sBAAT,CAAgC,KAAK,OAAL,IAAgB,SAAhD,CAAjB;;AAEA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,MAA7B,EAAqC,GAArC,EAA0C;AACxC,UAAM,MAAM,SAAS,CAAT,EAAY,sBAAZ,CAAmC,KAAK,GAAL,IAAY,KAA/C,EAAsD,CAAtD,CAAZ;AACA,UAAM,MAAM,SAAS,CAAT,EAAY,sBAAZ,CAAmC,KAAK,QAAL,IAAiB,UAApD,EAAgE,CAAhE,CAAZ;AACA,UAAM,QAAQ,SAAS,CAAT,EAAY,sBAAZ,CAAmC,KAAK,KAAL,IAAc,OAAjD,EAA0D,CAA1D,CAAd;;;AAGA,YAAM,gBAAN,CAAuB,QAAvB,EAAiC,cAAc,IAAd,CAAmB,IAAnB,EAAyB,EAAC,QAAD,EAAM,QAAN,EAAzB,EAAqC,KAArC,CAAjC;;;AAGA,UAAI,gBAAJ,CAAqB,OAArB,EAA8B,QAAQ,IAAR,CAAa,IAAb,EAAmB,CAAC,CAApB,EAAuB,EAAC,QAAD,EAAM,QAAN,EAAvB,EAAmC,KAAnC,CAA9B;AACA,UAAI,gBAAJ,CAAqB,OAArB,EAA8B,QAAQ,IAAR,CAAa,IAAb,EAAmB,CAAnB,EAAsB,EAAC,QAAD,EAAM,QAAN,EAAtB,EAAkC,KAAlC,CAA9B;AACD;AACF;AAjBY,C","file":"stepper.js","sourcesContent":["function getNum(str) {return parseInt(str, 10);};\n\nfunction onClick(amount, buttons, field) {\n  if (amount === 0) return;\n  if (!field.validity.valid || field.value === '') field.value = 0;\n\n  if (amount < 0 && getNum(field.value) <= getNum(field.min)) return;\n  else if (amount > 0 && getNum(field.value) >= getNum(field.max)) return;\n\n  field.value = getNum(field.value) + amount;\n  checkValidity(buttons, field);\n};\n\nfunction checkValidity(buttons, field) {\n  // Disable increments that surpass thresholds.\n  if (field.validity.valid) {\n    buttons.neg.disabled = (getNum(field.value) <= getNum(field.min));\n    buttons.pos.disabled = (getNum(field.value) >= getNum(field.max));\n  } else {\n    field.value = 0;\n  }\n};\n\nexport default {\n  bindAll: function(opts) {\n    opts = opts || {};\n    const steppers = document.getElementsByClassName(opts.stepper || 'stepper');\n\n    for (var i = 0; i < steppers.length; i++) {\n      const pos = steppers[i].getElementsByClassName(opts.add || 'add')[0];\n      const neg = steppers[i].getElementsByClassName(opts.subtract || 'subtract')[0];\n      const field = steppers[i].getElementsByClassName(opts.field || 'field')[0];\n\n      // Bind field\n      field.addEventListener('change', checkValidity.bind(this, {neg, pos}, field));\n\n      // Bind buttons\n      neg.addEventListener('click', onClick.bind(this, -1, {neg, pos}, field));\n      pos.addEventListener('click', onClick.bind(this, 1, {neg, pos}, field));\n    }\n  }\n};"],"sourceRoot":"./dev/js"}